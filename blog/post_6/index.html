<!-- auto-generated document -->
<html lang = "en">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

		<!-- Bootstrap CSS -->
		<!-- <link href="https://bootswatch.com/4/solar/bootstrap.min.css" rel="stylesheet"> -->
		<link href="https://bootswatch.com/4/slate/bootstrap.min.css" rel="stylesheet">
		

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

		<!-- set picture -->
		<link rel="icon" href="https://vignette1.wikia.nocookie.net/harrypotter/images/2/23/Hallows.png/revision/latest?cb=20090309113642">

		<!-- set title on top of the tab -->
		<title>Visualizing Sorting Algorithms with OpenGL</title>
	</head>
	<body>
		<center class="jumbotron">
			<h2> 
				Visualizing Sorting Algorithms with OpenGL
			</h2>
		</center>
		<div class="container">
			<h3 class="card mb-3">
				<div class="container" id="introduction">
					Introduction
				</div>
			</h3>
			<p>
				If you’ve read my 
				<a target="_blank" href="https://bi3mer.github.io/blog/post_2/index.html">previous posts,</a>
			 	then you know I love python. Regardless, it has been a goal of mine to be proficient in c++. I’m not exactly sure why I’m fascinated with this language that I have no uses cases for, but I think it stems from my love of video games. C++ is used extensively by my favorite company, Blizzard Entertainment, and sees a wide range of use across the industry. In addition, it also is apart of a field that is of particular interest for me, AI. For example, 
			 	<a target="_blank" href="https://github.com/tensorflow/tensorflow">tensorflow</a>
			 	is implemented in c++.
			</p>
			<p>
				With my interest in c++ in mind, I decided to write a few sorting algorithms as a way to practice using the language without doing anything too extensive. What resulted was a series of dull 
				<a target="_blank" href="https://github.com/bi3mer/challenges">challenges</a> 
				which really tells you nothing about me as a programmer and if I can do anything. However, I recalled watching these 
				<a target="_blank" href="https://www.youtube.com/watch?v=kPRA0W1kECg">youtube videos </a>
				from when I was freshman first learning the algorithms and decided visualizing my implementations may be a way to add some spice to what was otherwise a very dull set of implementations.
			</p>
		</div>
		<div class="container">
			<h3 class="card mb-3">
				<div class="container" id="the_sorting_algorithms">
					Quicksort
				</div>
			</h3>

			<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">int</span> <span style="color: #a6e22e">partition</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">*</span> <span style="color: #f8f8f2">a,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">low,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">high)</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">lowIndex</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">low</span> <span style="color: #f92672">-</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>
    <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">pivot</span>    <span style="color: #f92672">=</span> <span style="color: #f8f8f2">a[high];</span>

    <span style="color: #66d9ef">for</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">low;</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">high;</span> <span style="color: #f92672">++</span><span style="color: #f8f8f2">i)</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">if</span><span style="color: #f8f8f2">(a[i]</span> <span style="color: #f92672">&lt;=</span> <span style="color: #f8f8f2">pivot)</span>
        <span style="color: #f8f8f2">{</span>
            <span style="color: #f92672">++</span><span style="color: #f8f8f2">lowIndex;</span>
            <span style="color: #f8f8f2">std</span><span style="color: #f92672">::</span><span style="color: #f8f8f2">swap(a[lowIndex],</span> <span style="color: #f8f8f2">a[i]);</span>
        <span style="color: #f8f8f2">}</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #f92672">++</span><span style="color: #f8f8f2">lowIndex;</span>
    <span style="color: #f8f8f2">std</span><span style="color: #f92672">::</span><span style="color: #f8f8f2">swap(a[lowIndex],</span> <span style="color: #f8f8f2">a[high]);</span>

    <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">lowIndex;</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #66d9ef">void</span> <span style="color: #a6e22e">quickSortImplemented</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">*</span> <span style="color: #f8f8f2">a,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">low,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">high)</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">if</span><span style="color: #f8f8f2">(low</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">high)</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">pi</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">partition(a,</span> <span style="color: #f8f8f2">low,</span> <span style="color: #f8f8f2">high);</span>

        <span style="color: #f8f8f2">quickSort(a,</span> <span style="color: #f8f8f2">low,</span> <span style="color: #f8f8f2">pi</span> <span style="color: #f92672">-</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">);</span>
        <span style="color: #f8f8f2">quickSort(a,</span> <span style="color: #f8f8f2">pi</span> <span style="color: #f92672">+</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">high);</span>
    <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #66d9ef">void</span> <span style="color: #a6e22e">quickSort</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">*</span> <span style="color: #f8f8f2">a,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">length)</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #f8f8f2">quickSortImplemented(a,</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">length</span> <span style="color: #f92672">-</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">}</span>
</pre></div>
			<br/>
		</div>
		<div class="container">
			<h3 class="card mb-3">
				<div class="container" id="installing_glut_on_ubuntu">
					Installing Glut on Ubuntu
				</div>
			</h3>

			<p>
				Glut is a way for c++ to be able to talk to OpenGL and draw things. For installing glut I found a helpful 
				<a target="_blank" href="https://www.codeproject.com/Articles/182109/Setting-up-an-OpenGL-development-environment-in-Ub">article</a> 
				which gave me the installation commands I needed to run:
			</p>

			<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f8f8f2">sudo</span> <span style="color: #f8f8f2">apt</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">get</span> <span style="color: #f8f8f2">install</span> <span style="color: #f8f8f2">mesa</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">common</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">dev</span>
<span style="color: #f8f8f2">sudo</span> <span style="color: #f8f8f2">apt</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">get</span> <span style="color: #f8f8f2">install</span> <span style="color: #f8f8f2">freeglut3</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">dev</span>
</pre></div>
			<br/>
			<p>
				They also provide a sample program that will draw a white square on a black background.
			</p>

			<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #75715e">#include &quot;GL/freeglut.h&quot;</span>
<span style="color: #75715e">#include &quot;GL/gl.h&quot;</span>

<span style="color: #75715e">/* display function - code from:</span>
<span style="color: #75715e">     http://fly.cc.fer.hr/~unreal/theredbook/chapter01.html</span>
<span style="color: #75715e">This is the actual usage of the OpenGL library. </span>
<span style="color: #75715e">The following code is the same for any platform */</span>
<span style="color: #66d9ef">void</span> <span style="color: #a6e22e">renderFunction</span><span style="color: #f8f8f2">()</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #f8f8f2">glClearColor(</span><span style="color: #ae81ff">0.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0.0</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">glClear(GL_COLOR_BUFFER_BIT);</span>
    <span style="color: #f8f8f2">glColor3f(</span><span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">glOrtho(</span><span style="color: #f92672">-</span><span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #f92672">-</span><span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #f92672">-</span><span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">glBegin(GL_POLYGON);</span>
        <span style="color: #f8f8f2">glVertex2f(</span><span style="color: #f92672">-</span><span style="color: #ae81ff">0.5</span><span style="color: #f8f8f2">,</span> <span style="color: #f92672">-</span><span style="color: #ae81ff">0.5</span><span style="color: #f8f8f2">);</span>
        <span style="color: #f8f8f2">glVertex2f(</span><span style="color: #f92672">-</span><span style="color: #ae81ff">0.5</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0.5</span><span style="color: #f8f8f2">);</span>
        <span style="color: #f8f8f2">glVertex2f(</span><span style="color: #ae81ff">0.5</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0.5</span><span style="color: #f8f8f2">);</span>
        <span style="color: #f8f8f2">glVertex2f(</span><span style="color: #ae81ff">0.5</span><span style="color: #f8f8f2">,</span> <span style="color: #f92672">-</span><span style="color: #ae81ff">0.5</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">glEnd();</span>
    <span style="color: #f8f8f2">glFlush();</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #75715e">/* Main method - main entry point of application</span>
<span style="color: #75715e">the freeglut library does the window creation work for us, </span>
<span style="color: #75715e">regardless of the platform. */</span>
<span style="color: #66d9ef">int</span> <span style="color: #a6e22e">main</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">argc,</span> <span style="color: #66d9ef">char</span><span style="color: #f92672">**</span> <span style="color: #f8f8f2">argv)</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #f8f8f2">glutInit(</span><span style="color: #f92672">&amp;</span><span style="color: #f8f8f2">argc,</span> <span style="color: #f8f8f2">argv);</span>
    <span style="color: #f8f8f2">glutInitDisplayMode(GLUT_SINGLE);</span>
    <span style="color: #f8f8f2">glutInitWindowSize(</span><span style="color: #ae81ff">500</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">500</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">glutInitWindowPosition(</span><span style="color: #ae81ff">100</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">100</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">glutCreateWindow(</span><span style="color: #e6db74">&quot;OpenGL - First window demo&quot;</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">glutDisplayFunc(renderFunction);</span>
    <span style="color: #f8f8f2">glutMainLoop();</span>    
    <span style="color: #66d9ef">return</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
<span style="color: #f8f8f2">}</span>
</pre></div>
			<br/>
			<p>
				With our packages and program we can now test to see if it will run. To test, input the following in your terminal. Please note, I assume you’ve named this file main.cpp in the commands below.
			</p>

			<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f8f8f2">g</span><span style="color: #f92672">++</span> <span style="color: #f8f8f2">main.cpp</span> <span style="color: #f92672">-</span><span style="color: #f8f8f2">lGL</span> <span style="color: #f92672">-</span><span style="color: #f8f8f2">lGLU</span> <span style="color: #f92672">-</span><span style="color: #f8f8f2">lglut</span>
<span style="color: #f8f8f2">.</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">a.out</span>
</pre></div>
			<br/>
		</div>

		<div class="container">
			<h3 class="card mb-3">
				<div class="container" id="drawing_in_opengl_with_glut">
					Drawing in OpenGL with Glut
				</div>
			</h3>

			<p>
				Now that we can draw things, we need to understand how exactly we are drawing. The first thing to notice in the sample program above, is how it draws the square where every vertex has either <code>-0.5</code> or <code>0.5</code> for the x and y axis.
			</p>

			<center>
				<figure align="center">
					<img src="https://github.com/bi3mer/graphing_code/blob/master/opengl_sorting/test.png?raw=true" width="400"/>
					<figcaption>
						Figure 1: Representation of square generated in sample code for OpenGL
					</figcaption>
				</figure>
			</center>
			<p>
				As you can see in figure one, source code 
				<a target="_blank" href="https://github.com/bi3mer/graphing_code/blob/master/opengl_sorting/opengl_rectangle.py">here,</a> 
				the blue square is the square we see when running our c++ code. The black lines represent the axis and ultimately show us how we are expected to draw with this framework. -1 to 1 are the boundaries on both the x and y axis. So the vertex <code>(-1,-1)</code> would be the bottom left of the screen and <code>(1,1)</code> would be the top right. 
			</p>
		</div>

		<div class="container">
			<h3 class="card mb-3">
				<div class="container" id="drawing_a_frame">
					Drawing a Frame
				</div>
			</h3>

			<p>
				A frame for us is a visual representation of the array we are sorting and the progress. Therefore, before we can starting writing code we have to define the array we want to visualize. Luckily, this is fairly simple because our goal isn’t to write something super generic. Our one and only goal is to write something that visualizes the sort. WIth that in mind let’s assume an array is a set of integers ordered from 0 to n, where n is some arbitrary length greater than 0.
			</p>

			<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">int</span><span style="color: #f92672">*</span> <span style="color: #f8f8f2">arr</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">*</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">malloc(</span><span style="color: #66d9ef">sizeof</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">*</span> <span style="color: #f8f8f2">length);</span>
<span style="color: #66d9ef">for</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">length;</span> <span style="color: #f92672">++</span><span style="color: #f8f8f2">i)</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #f8f8f2">arr[i]</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">i;</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

			<br/>			
			<p>
				Please note, I’m aware that the malloc isn’t necessary but it will come into play later so please just bear with me. With our array now defined, we need a render function that will be able to draw rectangles for each and every element of the array inside of our window. These rectangles need to scale based on the size of the array.
			</p>	

			<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">void</span> <span style="color: #a6e22e">renderFunction</span><span style="color: #f8f8f2">()</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #f8f8f2">glClearColor(</span><span style="color: #ae81ff">0.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0.0</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">glClear(GL_COLOR_BUFFER_BIT);</span>
    <span style="color: #f8f8f2">glColor3f(</span><span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">glOrtho(</span><span style="color: #f92672">-</span><span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #f92672">-</span><span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #f92672">-</span><span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1.0</span><span style="color: #f8f8f2">);</span>
    
    <span style="color: #66d9ef">float</span> <span style="color: #f8f8f2">l</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">(</span><span style="color: #66d9ef">float</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">length;</span>
    <span style="color: #66d9ef">float</span> <span style="color: #f8f8f2">widthAdder</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">l;</span>

    <span style="color: #66d9ef">for</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">length;</span> <span style="color: #f92672">++</span><span style="color: #f8f8f2">i)</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #f8f8f2">glBegin(GL_POLYGON);</span>
        
        <span style="color: #75715e">// + 1 so value of 0 has height of 1</span>
        <span style="color: #66d9ef">float</span> <span style="color: #f8f8f2">arrayIndexHeightRatio</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">2</span><span style="color: #f92672">*</span><span style="color: #f8f8f2">(arr[i]</span> <span style="color: #f92672">+</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">)</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">l;</span>
        <span style="color: #66d9ef">float</span> <span style="color: #f8f8f2">widthIndexAdder</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">2</span><span style="color: #f92672">*</span><span style="color: #f8f8f2">i</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">l;</span>

        <span style="color: #66d9ef">float</span> <span style="color: #f8f8f2">leftX</span>   <span style="color: #f92672">=</span> <span style="color: #f92672">-</span><span style="color: #ae81ff">1</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">widthIndexAdder;</span>
        <span style="color: #66d9ef">float</span> <span style="color: #f8f8f2">rightX</span>  <span style="color: #f92672">=</span> <span style="color: #f8f8f2">leftX</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">widthAdder;</span>
        <span style="color: #66d9ef">float</span> <span style="color: #f8f8f2">bottomY</span> <span style="color: #f92672">=</span> <span style="color: #f92672">-</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>
        <span style="color: #66d9ef">float</span> <span style="color: #f8f8f2">topY</span>    <span style="color: #f92672">=</span> <span style="color: #f8f8f2">bottomY</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">arrayIndexHeightRatio;</span>

        <span style="color: #75715e">// bottom left</span>
        <span style="color: #f8f8f2">glColor4f(</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">);</span>
        <span style="color: #f8f8f2">glVertex2f(leftX,</span> <span style="color: #f8f8f2">bottomY);</span>

        <span style="color: #75715e">// bottom right</span>
        <span style="color: #f8f8f2">glColor4f(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">);</span>
        <span style="color: #f8f8f2">glVertex2f(rightX,</span> <span style="color: #f8f8f2">bottomY);</span>

        <span style="color: #75715e">// top right</span>
        <span style="color: #f8f8f2">glColor4f(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">);</span>
        <span style="color: #f8f8f2">glVertex2f(rightX,</span> <span style="color: #f8f8f2">topY);</span>

        <span style="color: #75715e">// top left</span>
        <span style="color: #f8f8f2">glColor4f(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">);</span>
        <span style="color: #f8f8f2">glVertex2f(leftX,</span> <span style="color: #f8f8f2">topY);</span>

        <span style="color: #f8f8f2">glEnd();</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #f8f8f2">glFlush();</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

			<br/>
			<p>
				Now there is a decent bit going on here, so let’s break it down. The most important thing to notice is that I’m using variables <code>arr</code> and <code>length</code> without ever having declared them or passed them into the function. The unfortunate reality here is that there is no way, that I could find, to pass a variable into the render function. Now I imagine a class would resolve this, but I used a global because I knew this code would only be used once. If I thought, for even a second, that I would use it again then I would have attempted the class approach or anything to avoid having these horrible globals.
			</p>
			<p>
				The first set of commands is clearing the screen so we can draw on it without drawing over anything else. After that we convert the length to a float so we can divide by it without worrying about integer rounding. We then create this variable called <code>widthAdder</code> which is how long, widthwise, a rectangle will be. Also, please note, you could do <code>2/l</code> instead which would cause the rectangles to touch as seen in figure two.
			</p>

			<center>
				<figure align="center">
					<img src="pictures/i_over_l.png" width="200"/>
					<img src="pictures/2i_over_l.png" width="200">
					<figcaption>
						Figure 2: first image shows <code>1/l</code> and second shows <code>2/l</code>
					</figcaption>
				</figure>
			</center>
		
			<p>
				We now begin looping over every element of the array to draw the rectangle that represents the given element. We use the element’s index to determine where it is located along the x axis and the actual value to determine the height. To start we call a function <code>glBegin</code> with an enumeration to a polygon. With every <code>glBegin</code> call there will always be a <code>glEnd</code> call that you see at the end of the loop. After the begin call we create a variable which represents the height of the index. We calculate this by taking the value and adding one, this ensures the zero value will be shown, and multiplying the result by two. This multiplication allows us to use the entire screen of negative one to one. We then divide by the length of the array to properly scale the result. You’ll notice that the +1 we used for making 0 show on the screen also set the scaling to a proper factor. The other way to resolve this would have been to divide by the length subtracted by 1.
			</p>
			<p>
				The next variable allows us to find the starting x coordinate before subtracting by one. We take the index of the element and divide by the length. From there we multiply it by two. Once we subtract by one we will have the starting left x coordinate. 
			</p>
			<p>
				With this math completed, all we have to do is finish up our variable definitions for the four corners of the rectangle and draw out the vertices. You’ll notice that I added colors to the vertices as well so the resulting graphs would be prettier. The results of this can be seen in figure three after 
				<a target="_blank" href="https://www.geeksforgeeks.org/shuffle-a-given-array/">randomizing the array</a>
				for an array of size 500.
			</p>

			<center>
				<figure align="center">
					<img src="pictures/sample_graph.png" width="400"/>
					<figcaption>
						Figure 3: Sample graph generated for a randomized array
					</figcaption>
				</figure>
			</center>
		</div>

		<div class="container">
			<h3 class="card mb-3">
				<div class="container" id="visualizing_the_sort">
					Visualizing the Sort
				</div>
			</h3>

			<p>
				Now we want to redraw the entire screen after every single swap (an optimization for this would be to only redraw the areas of the screen for the two rectangles that are swapped). The easiest way to do this is to write our own version of swap that will still use the <code>std::swap</code> function, but also call the render function. 
			</p>

			<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">void</span> <span style="color: #a6e22e">swap</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index1,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index2)</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #f8f8f2">std</span><span style="color: #f92672">::</span><span style="color: #f8f8f2">swap(arr[index1],</span> <span style="color: #f8f8f2">arr[index2]);</span>
    <span style="color: #f8f8f2">renderFunction();</span>
    <span style="color: #f8f8f2">usleep(delay);</span>
<span style="color: #f8f8f2">}</span>
</pre></div>
		
			<br>
			<p>
				You’ll notice that I take advantage of the horrible global and actually don’t pass it in. In addition, I’ve added an extra line <code>usleep(delay)</code> which pauses the execution for however many milliseconds. This makes it so we can actually see the sort happening. This function call isn’t necessarily ideal for all operating systems and using boost instead would be optimal. In addition, you’ll notice that delay is also undefined and must therefore be a global. This is the third and second to last global (length is the second).
			</p>
			<p>
				With swapping implemented, we now need a generic way of passing our sorting algorithm to the visualizer. Luckily, c++ gives us an easy way to pass functions.
			</p>

			<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">int</span> <span style="color: #a6e22e">setUpGlutAndArray</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">argc,</span> <span style="color: #66d9ef">char</span><span style="color: #f92672">**</span> <span style="color: #f8f8f2">argv,</span> <span style="color: #66d9ef">void</span> <span style="color: #f8f8f2">(</span><span style="color: #f92672">*</span><span style="color: #f8f8f2">sortingAlgorithm)(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">*</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">))</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #f8f8f2">sort</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">sortingAlgorithm;</span>
    <span style="color: #f8f8f2">arr</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">*</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">malloc(</span><span style="color: #66d9ef">sizeof</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">*</span> <span style="color: #f8f8f2">length);</span>
    <span style="color: #66d9ef">for</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">length;</span> <span style="color: #f92672">++</span><span style="color: #f8f8f2">i)</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #f8f8f2">arr[i]</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">i;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #f8f8f2">randomizeArray(arr,</span> <span style="color: #f8f8f2">length);</span>

    <span style="color: #f8f8f2">glutInit(</span><span style="color: #f92672">&amp;</span><span style="color: #f8f8f2">argc,</span> <span style="color: #f8f8f2">argv);</span>
    <span style="color: #f8f8f2">glutInitDisplayMode(GLUT_SINGLE);</span>
    <span style="color: #f8f8f2">glutInitWindowSize(length,length);</span>
    <span style="color: #f8f8f2">glutInitWindowPosition(</span><span style="color: #ae81ff">100</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">100</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">glutCreateWindow(</span><span style="color: #e6db74">&quot;Sort Visualization&quot;</span><span style="color: #f8f8f2">);</span>

    <span style="color: #f8f8f2">glutDisplayFunc(renderFunction);</span>
    <span style="color: #f8f8f2">glutKeyboardFunc(keyboardEvent);</span>

    <span style="color: #f8f8f2">glutMainLoop();</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

			<br/>

			<p>
				This function sets our fourth and final global, the swapping algorithm. After that, it does the exact same things from the original main function we have above, except, there is now a keyboard function and a randomize array function.
			</p>
			<p>
				The keyboard function is called on keyboard events and takes in a few arguments. In our case we use this event to handle the escape key, 27, and s key, 115. When the escape key is pressed we quit out. When the s key is pressed, we start the sort.
			</p>

			<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">void</span> <span style="color: #a6e22e">keyboardEvent</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">unsigned</span> <span style="color: #66d9ef">char</span> <span style="color: #f8f8f2">c,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">x,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">y)</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">if</span><span style="color: #f8f8f2">(c</span> <span style="color: #f92672">==</span> <span style="color: #ae81ff">27</span><span style="color: #f8f8f2">)</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #75715e">// exit on escape key pressed</span>
        <span style="color: #f8f8f2">exit(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">);</span>
        <span style="color: #f8f8f2">free(arr);</span>
    <span style="color: #f8f8f2">}</span>
    <span style="color: #66d9ef">else</span> <span style="color: #66d9ef">if</span><span style="color: #f8f8f2">(c</span> <span style="color: #f92672">==</span> <span style="color: #ae81ff">115</span><span style="color: #f8f8f2">)</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #75715e">// start on `s` key pressed</span>
        <span style="color: #f8f8f2">sort(arr,</span> <span style="color: #f8f8f2">length);</span>
    <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

			<br/>
			<p>
				What we now have is a complete program and all we have to do is set up our main function. Say we wanted to see how quicksort looked. Then we could create a main function underneath our quicksort code from above; please note that the sorting algorithm will have to use the new swap function. Sample source code can be found 
				<a target="_blank" href="https://github.com/bi3mer/challenges/blob/master/Challenge021_QuickSort/main.cpp">here.</a>
			</p>

			<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">int</span> <span style="color: #a6e22e">main</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">argc,</span> <span style="color: #66d9ef">char</span><span style="color: #f92672">*</span> <span style="color: #f8f8f2">argv[])</span> 
<span style="color: #f8f8f2">{</span>
    <span style="color: #f8f8f2">srand(time(NULL));</span>
    <span style="color: #f8f8f2">delay</span>  <span style="color: #f92672">=</span> <span style="color: #ae81ff">1500</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">length</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">500</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">setUpGlutAndArray(argc,</span> <span style="color: #f8f8f2">argv,</span> <span style="color: #f8f8f2">quicksort);</span>
    <span style="color: #f8f8f2">free(arr);</span>

    <span style="color: #66d9ef">return</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
<span style="color: #f8f8f2">}</span>
</pre></div>
			<br/>

			<p>
				And when running and after pressing s, we would get the gif seen in figure four.
			</p>

			<center>
				<figure align="center">
					<img src="https://github.com/bi3mer/challenges/blob/master/Challenge021_QuickSort/quick_sort.gif?raw=true" width="400"/>
					<figcaption>
						Figure 4: Example gif produced from running quicksort
					</figcaption>
				</figure>
			</center>
		</div>
		<br/>
		<div class="container">
			<h3 class="card mb-3">
				<div class="container" id="conclusion">
					Conclusion
				</div>
			</h3>

			<p>
				If I wanted to spend more time on this then the first thing I would do is remove all four of those horrible globals. However, besides that one element I’m pretty happy with the result. I think the visualization came out looking pretty good and it was shocking to see just how much faster quicksort really is then something like bubble sort. In addition, it was also just good experience to work in OpenGL and familiarize myself with tools that are a little outside of my comfort zone. 
			</p>
		</div>
<div class="container">
  <h3 class="card mb-3">
    <div class="container" id="nextTime">
      Citation
    </div>
  </h3>
  <pre id="citation"> </pre>
  <br/>
  <br/>
</div>
<script>
(() => {
  const title = document.title;
  const journal = 'colan.biemer.us';
  const url = window.location.href;
  const year = url.split('=').pop();

  // remove special characters and replace spaces with underscores
  const tag = document.title.replace(/[^\w\s]/gi, '').split(' ').join('_');
  
  let citationText = `@article{biemer${year}${tag}\n`;
  citationText = `${citationText}  title="${title}",\n`;
  citationText = `${citationText}  author="F. Biemer, Colan",\n`;
  citationText = `${citationText}  journal="${journal}",\n`;
  citationText = `${citationText}  year="${year}",\n`;
  citationText = `${citationText}  url="${url}",\n}`;

  $('#citation').text(citationText);
})();
</script><!-- Disqus for comments -->
<div id="disqus_thread" class="container"></div>
<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
	var d = document, s = d.createElement('script');
	s.src = 'https://bi3mer-github-io.disqus.com/embed.js';
	s.setAttribute('data-timestamp', +new Date());
	(d.head || d.body).appendChild(s);
})();
</script>
<noscript>
	Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<script id="dsq-count-scr" src="//bi3mer-github-io.disqus.com/count.js" async></script><!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GA_TRACKING_ID"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VEPF12WK7P"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VEPF12WK7P');
</script>	</body>
</html>